[package]
name = "iso2wbfs"
version = "1.0.0"
edition = "2024"
description = "A Rust utility to convert Wii ISO files to WBFS format, replicating wbfs_file v2.9."
license = "GPL-2.0-only"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
# Cryptography
aes = "0.8.4"
cbc = { version = "0.1.2", features = ["alloc"] }
hex = "0.4.3"

# Error Handling
thiserror = "2.0.12"

# Logging
log = "0.4.27"

# Progress Bar (optional for library, used by binary)
indicatif = { version = "0.18.0", optional = true }

# CLI Parsing (used by binary)
clap = { version = "4.5.41", features = ["derive"], optional = true }

# Logging backend (used by binary)
env_logger = { version = "0.11.8", optional = true }

[features]
# The 'cli' feature enables all dependencies needed for the command-line tool.
cli = ["clap", "indicatif", "env_logger"]

[[bin]]
name = "iso2wbfs"
path = "src/main.rs"
required-features = ["cli"]

[lib]
name = "iso2wbfs"
path = "src/lib.rs"
